<table class = 'ip-checked'>
  <thead>
  <tr>
	  <th rowspan="2" class="list_head">防火墙</th>
    <th rowspan="2" class="list_head">IP</th>
	  <th colspan="1" class="list_head">带宽</th>
	  <th colspan="8" class="list_head">频率</th>
	  <th colspan="3" class="list_head">连接</th>
  </tr>
  <tr>
    <th class="subtitle">IN</th>
    <th class="subtitle">SYN</th>
    <th class="subtitle">ACK</th>
    <th class="subtitle">UDP</th>
    <th class="subtitle">ICMP</th>
    <th class="subtitle">FRAG</th>
    <th class="subtitle">NonIP</th>
    <th class="subtitle">NewTCP</th>
    <th class="subtitle">NewUDP</th>
    <th class="subtitle">IN</th>
    <th class="subtitle">OUT</th>
    <th class="subtitle">UDP</th>
  </tr>
  </thead>
  <tbody>
    {% if totals %} 
      {% for ip,total in totals %}
      <tr>
       <td>合计</td>
       <td class='value'>{{ ip }}</td>
       <td class='value'>
         <p>前：{{ total.input_bps }} Mbps/{{ total.input_pps }} PPS</p>
         <p>后：{{ total.input_submit_bps}} Mbps/{{ total.input_submit_pps }} PPS</p>
       </td>
       <td class='value'>{{ total.syn_rate }}</td>
       <td class='value'>{{ total.ack_rate }}</td>
       <td class='value'>{{ total.udp_rate }}</td>
       <td class='value'>{{ total.icmp_rate }}</td>
       <td class='value'>{{ total.frag_rate }}</td>
       <td class='value'>{{ total.nonip_rate }}</td>
       <td class='value'>{{ total.new_tcp_rate}}</td>
       <td class='value'>{{ total.new_udp_rate }}</td>
       <td class='value'>{{ total.tcp_conn_in }}</td>
       <td class='value'>{{ total.tcp_conn_out }}</td>
       <td class='value'>{{ total.udp_conn }}</td>
      </tr>
      {% endfor %}
    {% else %}
    <tr>
     <td>合计</td>
     <td class='value'>&nbsp;</td>
     <td class='value'>&nbsp;</td>
     <td class='value'>&nbsp;</td>
     <td class='value'>&nbsp;</td>
     <td class='value'>&nbsp;</td>
     <td class='value'>&nbsp;</td>
     <td class='value'>&nbsp;</td>
     <td class='value'>&nbsp;</td>
     <td class='value'>&nbsp;</td>
     <td class='value'>&nbsp;</td>
     <td class='value'>&nbsp;</td>
     <td class='value'>&nbsp;</td>
     <td class='value'>&nbsp;</td>
    </tr>
    {% endif %}
    {% for host in hosts %}
     <tr>
       <td>{{host.ip}}</td>
       {% if host.check_value %}
       <td class='value'>{{ host.check_value.address }}</td>
       <td class='value'>
         <p>前：{{ host.check_value.input_bps }} Mbps/{{ host.check_value.input_pps }} PPS</p>
         <p>后：{{ host.check_value.input_submit_bps}} Mbps/{{ host.check_value.input_submit_pps }} PPS</p>
       </td>
       <td class='value'>{{ host.check_value.syn_rate }}</td>
       <td class='value'>{{ host.check_value.ack_rate }}</td>
       <td class='value'>{{ host.check_value.udp_rate }}</td>
       <td class='value'>{{ host.check_value.icmp_rate }}</td>
       <td class='value'>{{ host.check_value.frag_rate }}</td>
       <td class='value'>{{ host.check_value.nonip_rate }}</td>
       <td class='value'>{{ host.check_value.new_tcp_rate }}</td>
       <td class='value'>{{ host.check_value.new_udp_rate }}</td>
       <td class='value'>{{ host.check_value.tcp_conn_in }}</td>
       <td class='value'>{{ host.check_value.tcp_conn_out }}</td>
       <td class='value'>{{ host.check_value.udp_conn }}</td>
       {% else %}
        <td class='value'>&nbsp;</td>
        <td class='value'>&nbsp;</td>
        <td class='value'>&nbsp;</td>
        <td class='value'>&nbsp;</td>
        <td class='value'>&nbsp;</td>
        <td class='value'>&nbsp;</td>
        <td class='value'>&nbsp;</td>
        <td class='value'>&nbsp;</td>
        <td class='value'>&nbsp;</td>
        <td class='value'>&nbsp;</td>
        <td class='value'>&nbsp;</td>
        <td class='value'>&nbsp;</td>
        <td class='value'>&nbsp;</td>
       {% endif %}
     </tr>
    {% endfor %}
  </tbody>
</table>
